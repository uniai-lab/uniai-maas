<!-- @format -->

<p align=center>
<img src="./logo.png" width=65 height=65 />
</p>

<h1 align=center>UniAI MaaS</h1>

<p align=center>åŸºäºåŒånode.jsåº“ <a href="https://www.npmjs.com/package/uniai">uniai</a> å¼€å‘</p>

<p align=center>
<img src="./framework.jpg" width=100% />
</p>

## æ¦‚è¿°

[English Reading](./README.md) ğŸ‡ºğŸ‡¸

UniAI MaaSæ—¨åœ¨æ„å»ºä¸€ä¸ªæ¨¡å‹å³æœåŠ¡å¹³å°ï¼Œæä¾›å¤šæ¨¡å‹çš„æ¥å…¥ï¼Œå¼€å‘è€…å¯ä»¥ç›´æ¥åŸºäºè¯¥å¹³å°è¿›è¡ŒAIåº”ç”¨å¼€å‘ã€‚

è¯¥é¡¹ç›®åŒ…å«äº†å‘é‡æ•°æ®åº“ï¼Œç¼“å­˜æ•°æ®åº“ï¼Œæ–‡ä»¶å­˜å‚¨æœåŠ¡ç­‰ï¼Œå®ç°äº†RAGæŠ€æœ¯ï¼Œå¯ä»¥è§£æä¸Šä¼ çš„Officeæ–‡ä»¶ï¼Œå¹¶å­˜å…¥çŸ¥è¯†åº“ï¼Œåœ¨æ¨¡å‹è¾“å…¥æ—¶è¿›è¡ŒæŠ½å–å’Œæ³¨å…¥ã€‚

åŒånode.jsåº“**uniai**æ˜¯ä»æœ¬é¡¹ç›®ä¸­å‰¥ç¦»å‡ºå»çš„nodejsç±»åº“ï¼Œé›†æˆäº†è®¸è®¸å¤šå¤šçš„æ¨¡å‹ï¼Œä½ ä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨**uniai**ï¼Œæ¥è‡ªå®šä¹‰ä½ çš„**MaaS**å¹³å°ï¼Œè¿™æ ·æˆ–è®¸æ›´è½»é‡åŒ–ã€‚ä¸ºäº†åœ¨ä½ çš„é¡¹ç›®ä¸­èå…¥UniAIåº•åº§ï¼Œä½ å¯ä»¥é€šè¿‡[npm](https://www.npmjs.com/package/uniai) æˆ–è€…[Github](https://github.com/devilyouwei/UniAI)æ¥å®‰è£…ã€‚

## é›†æˆæ¨¡å‹

UniAIé›†æˆäº†å¤šä¸ªAIæ¨¡å‹ï¼Œå·²åŒ…æ‹¬ï¼š

-   [ç§‘å¤§è®¯é£/æ˜Ÿç«å¤§æ¨¡å‹](https://xinghuo.xfyun.cn)
-   [THUDM/ChatGLM-6B](https://github.com/THUDM/ChatGLM3)
-   [æ™ºè°±/GLM](https://github.com/THUDM/ChatGLM3)
-   [æœˆä¹‹æš—é¢/moonshot](https://www.moonshot.cn/)
-   [OpenAI/GPT](https://platform.openai.com)
-   [ç™¾åº¦/æ–‡å¿ƒä¸€è¨€](https://cloud.baidu.com/product/wenxinworkshop)
-   [Google/Gemini](https://makersuite.google.com/app/)
-   [Stability AI](https://platform.stability.ai/)
-   [OpenAI/DALL-E](https://platform.openai.com)
-   [Midjourney](https://github.com/novicezk/midjourney-proxy)

## æ¡ˆä¾‹

æƒ³æ¢ç´¢UniAIçš„ä½¿ç”¨ï¼Ÿè¯·ä½“éªŒä»¥ä¸‹åº”ç”¨ï¼

### ä¹èŠå°ç¨‹åºç‰ˆ

å¾®ä¿¡æ‰«ç ç™»é™†å°ç¨‹åºï¼

<img src="./qrcode.jpg" width=120/>

### ä¹èŠProç‰ˆæœ¬

ğŸ‘æ¨èä½¿ç”¨æˆ‘ä»¬çš„ä¸“ä¸šç‰ˆï¼š<https://lechat.cas-ll.cn>

-   å¤šæ¨¡å‹èŠå¤©
-   åŠå…¬å®¤æ–‡ä»¶ä¸Šä¼ å’Œè§£æ
-   å›¾ç‰‡ç”Ÿæˆ
-   å›¾ç‰‡è¯†åˆ«

![example](https://raw.githubusercontent.com/uni-openai/uniai/main/icon/lechat-pro.png)

## ç³»ç»Ÿéœ€æ±‚

ç¡®å®šä½ å·²ç»å®‰è£…ä»¥ä¸‹çš„`NPM`åº“ï¼š

-   Node.js (ç‰ˆæœ¬ >= 18) - [nvm Installation Guide](https://github.com/nvm-sh/nvm)
-   Docker & Docker-compose
-   LibreOffice æ–‡æ¡£è½¬æ¢ç‰ˆ(libreoffice-convert)
-   pdf-to-img (canvas-node) - [Canvas NPM Package](https://www.npmjs.com/package/canvas)

## å¼€å§‹ä½¿ç”¨

### é…ç½®

åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼š

```bash
touch ./.env
```

å¡«å…… `.env` æ–‡ä»¶çš„ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash

# å¹³å°é»˜è®¤ç®¡ç†å‘˜ä»¤ç‰Œ
ADMIN_TOKEN=

# OPENAI GPT
OPENAI_API= # openai ä»£ç†
OPENAI_KEY= # openai å¯†é’¥

# Google AI å·¥ä½œå®¤
GOOGLE_AI_API= # google ä»£ç†
GOOGLE_AI_KEY= # google å¯†é’¥

# è´¨æ™® AI
# ZHIPU_AI_API= #zhipu ä»£ç†
ZHIPU_AI_KEY= # zhipu å¯†é’¥
GLM_API= # æœ¬åœ°éƒ¨ç½²çš„ glm6b

# SPARK
FLY_APP_ID= # ç§‘å¤§è®¯é£ app id
FLY_API_KEY= # ç§‘å¤§è®¯é£ api å¯†é’¥
FLY_API_SECRET= # ç§‘å¤§è®¯é£ api secret

# ç™¾åº¦é—®å¿ƒç ”ç©¶æ‰€
# BAIDU_API=http://192.168.41.52:5300
BAIDU_API_KEY=
BAIDU_SECRET_KEY=

# Moonshot
# MOONSHOT_API=http://192.168.41.52:5400
MOONSHOT_KEY=

# Stable Diffusion
STABLE_DIFFUSION_API=

# Midjourney
MJ_API= # https://github.com/novicezk/midjourney-proxy
MJ_IMG_PROXY= # ä»£ç†åˆ° discord cdn å›¾ç‰‡
MJ_TOKEN= # mj ä»¤ç‰Œ

# stability ai
STABILITY_KEY=

# PostgreSQL æ•°æ®åº“
DB_DIALECT=postgres
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASS=postgres
POSTGRES_DB=uniai

# Redis ç¼“å­˜
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASS=redis
REDIS_DB=0

# å¾®ä¿¡
WX_APP_ID= # å¾®ä¿¡å°ç¨‹åºid
WX_APP_SECRET= # å¾®ä¿¡å°ç¨‹åºå¯†é’¥
WX_MCH_ID=
WX_PAY_PRIVATE=
WX_PAY_CERT=
WX_PAY_KEY=

# MINIO å­˜å‚¨
MINIO_END_POINT=localhost
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_PORT=9000
MINIO_BUCKET=uniai

# æéªŒéªŒè¯ç æµ‹è¯•
GEE_TEST_ID=
GEE_TEST_KEY=

# é˜¿é‡Œäº‘ SMS è´¦å·
ALI_KEY_ID=
ALI_KEY_SECRET=
ALI_SMS_TEMPLATE=
ALI_SMS_SIGN=

# ç”¨äºå¯åŠ¨ Docker çš„ pgvector
POSTGRES_DATA_PATH=./data

# ç”¨äºå¯åŠ¨ Minio çš„ Docker
MINIO_DATA_PATH=./data
MINIO_ROOT_USER=root
MINIO_ROOT_PASS=12345678

```

### å®‰è£…æ­¥éª¤

**Node-gyp å®‰è£…**

```bash
npm -g install node-gyp
```

**LibreOffice å®‰è£…**

-   Ubuntu: `sudo apt install libreoffice`
-   Mac: `brew install libreoffice`

**Node-Canvas æ”¯æŒ**

-   å‚è€ƒ: [Canvas NPMæ–‡æ¡£](https://www.npmjs.com/package/canvas)
-   æ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿå®‰è£…ä¾èµ–ã€‚

**ä½¿ç”¨ Yarn (æ¨èåœ¨ npm ä¹‹ä¸Š)**

```bash
npm -g install yarn
yarn
```

**Sharp Support**

```bash
yarn add sharp --ignore-engines
```

### å¯åŠ¨æ•°æ®åº“

å¯¹äºåƒPostgresSQL (pgvector) è¿™æ ·çš„æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨ Docker å’Œ Docker-compose å®Œæˆè®¾ç½®ï¼š

```bash
sudo apt install docker.io docker-compose
```

**Docker å‘½ä»¤ç”¨äºæ•°æ®åº“æœåŠ¡**

-   å¼€å¯ pgvector: `yarn docker up pgvector`
-   å¼€å¯ Redis: `yarn docker up redis`
-   å¼€å¯ Minio (æœ¬åœ° OSS): `yarn docker up minio`

**é‡è¦æç¤º**

-   ç¡®ä¿ Docker å·æœ‰é€‚å½“çš„æƒé™ã€‚
-   Docker åˆå§‹åŒ–åé…ç½® Minioã€‚
-   é»˜è®¤ Docker è®¾ç½®åœ¨ `.env` ä¸­å¯ç”¨ã€‚

Minio è®¿é—®:

-   é“¾æ¥: `http://localhost:9000`
-   é»˜è®¤ç”¨æˆ·å: `root`
-   é»˜è®¤å¯†ç : `12345678`

### è¿è¡Œ UniAI

**å¼€å‘æ¨¡å¼**

-   åˆå§‹åŒ–æ•°æ®åº“ã€‚

```bash
yarn dev
```

**ç”Ÿäº§æ¨¡å¼**

-   ç¼–è¯‘ TypeScript æ–‡ä»¶å¹¶å¯åŠ¨åº”ç”¨ã€‚

```bash
yarn tsc
yarn start
```

âš ï¸ **é‡è¦**: é¿å…åœ¨å¼€å‘æ¨¡å¼ä¸­ç¼–è¯‘ TypeScript æ–‡ä»¶ã€‚å¦‚æœä¹‹å‰è¿è¡Œè¿‡ `tsc`ï¼Œè¯·åœ¨ `yarn dev` ä¹‹å‰ä½¿ç”¨ `yarn clean`ã€‚

### æ¸…ç†

```bash
yarn clean
```

## æ–‡æ¡£

é€šè¿‡å¸¸è§çš„ Web HTTP æ–¹æ³•è®¿é—® UniAI çš„ APIs ï¼ŒåŒ…æ‹¬ SSEã€‚ è¯¦ç»†çš„æ–‡æ¡£ï¼Œè¯·è®¿é—® [UniAI API æ–‡æ¡£](https://documenter.getpostman.com/view/9347507/2s93Y5Pf2J)ã€‚

## å¯ç”¨æ¨¡å‹

UniAI é›†æˆäº†å¤šç§ AI æ¨¡å‹ï¼Œä¸»è¦å…³æ³¨åœ¨ NLP å’Œ CV é¢†åŸŸã€‚éœ€è¦ç‹¬ç«‹éƒ¨ç½²å…·ä½“çš„æ¨¡å‹ï¼Œæˆ‘ä»¬æä¾›äº†ä¸‹è½½é“¾æ¥å’Œå¯¼å¼•ã€‚

### NLP æ¨¡å‹

-   OpenAI GPT, GLM/ChatGLM, IFLYTEK/SPARK

### CV æ¨¡å‹

-   OpenAI DALL-E, Stable Diffusion, MidJourney

## æœªæ¥å¢å¼º

UniAIè®¡åˆ’æ‰©å±•å…¶èƒ½åŠ›åˆ°ï¼š

-   é¢„æµ‹ API
-   è®­ç»ƒ API
-   æç¤º API
-   èµ„æºç®¡ç† API

![æœªæ¥ç‰¹ç‚¹](./future.png)

## è´¡çŒ®

é»„æœ‰ä¸º <huangyw@iict.ac.cn>

ä¸­ç§‘è‹å·æ™ºèƒ½è®¡ç®—æŠ€æœ¯ç ”ç©¶é™¢

## è®¸å¯

åŸºäº [Egg.js](https://www.eggjs.org/)
<img src="https://static-production.npmjs.com/255a118f56f5346b97e56325a1217a16.svg" height="15px"/>

[MIT](./LICENSE)

ç‰ˆæƒæ‰€æœ‰ Â© 2022è‡³ä»Š, ä¸­ç§‘è‹å·æ™ºèƒ½è®¡ç®—æŠ€æœ¯ç ”ç©¶é™¢
